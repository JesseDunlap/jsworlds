
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>P 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="None" href="index.html#document-index" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">P 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html#document-index">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-p_object">The P Object</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-views">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-controllers">Controllers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-elements">Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-strings">Strings and Snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-localization">Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-templating_engines">Templating Engines</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-accounts">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-session">Session Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-clientsync">Accessing Other Clients</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-file_uploads">Uploading Files With P</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-prod">Readying Your App For Production</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-accounts_module">Accounts Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-clientsync_module">ClientSync Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-controller_module">Controller Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-debugger_module">Debugger Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-element_module">Element Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-helpers_module">Helpers Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-model_module">Model Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-session_module">Session Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-string_module">String Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-view_module">View Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-email_module">Email Module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-p_modules">Extending P With Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-p_libraries">Using and Creating Custom Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-multiple_p_apps">Connecting to Multiple P App Servers at the Same Time</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-contribution">Contributing to P Docs</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome">
<h1>Welcome!<a class="headerlink" href="#welcome" title="Permalink to this headline">¶</a></h1>
<p>This web site is an early effort at documenting the P framework. It is currently very
much a work in progress, and is subject to rapid change as the P framework is developed.
Contribution to the documentation is greatly appreciated. For more information, see the
Contribution section.</p>
</div>
<div class="section" id="download-docs">
<h1>Download Docs<a class="headerlink" href="#download-docs" title="Permalink to this headline">¶</a></h1>
<p>Documentation can be downloaded for offline use in a variety of formats:</p>
<ul class="simple">
<li><a class="reference external" href="http://p.jessedunlap.me/docs/p-documentation.zip">Download as .zip</a></li>
<li><a class="reference external" href="http://p.jessedunlap.me/docs/p-documentation.pdf">Download as .pdf</a></li>
</ul>
</div>
<div class="section" id="contents">
<h1>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h1>
<div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-p_object"></span><div class="section" id="the-p-object">
<h4>The P Object<a class="headerlink" href="#the-p-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="introduction">
<h5>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h5>
<p>The <strong>*P*</strong> Object is P&#8217;s version of the jQuery <strong>*$*</strong>. When P first runs, it searches the
modules folder for JavaScript files, which extend the P object. The P object also contains
a few core functions, which are required almost everywhere in a P app.</p>
</div>
<div class="section" id="variables">
<h5>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h5>
<div class="section" id="p-config">
<h6>P.config<a class="headerlink" href="#p-config" title="Permalink to this headline">¶</a></h6>
<p>P&#8217;s global configuration object.</p>
<p><strong>To set configuration variables:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span>
    <span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span>
<span class="p">});</span>
</pre></div>
</div>
<p><strong>To access configuration variables:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">];</span> <span class="c1">// &quot;value&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="p-socket">
<h6>P.socket<a class="headerlink" href="#p-socket" title="Permalink to this headline">¶</a></h6>
<p>The Socket.IO instance corresponding to the current user.</p>
</div>
</div>
<div class="section" id="methods">
<h5>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h5>
<div class="section" id="p-depends-dependencies">
<h6>P.depends(dependencies)<a class="headerlink" href="#p-depends-dependencies" title="Permalink to this headline">¶</a></h6>
<p>Loads any dependency modules that have not already been loaded. Useful for modules
that require other modules to be loaded, or when your code requires modules that are
not automatically loaded.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><strong>dependencies</strong> - a list of modules that are required.</li>
</ul>
</div>
<div class="section" id="p-on-listener-callback">
<h6>P.on(listener, callback)<a class="headerlink" href="#p-on-listener-callback" title="Permalink to this headline">¶</a></h6>
<p>Adds an event listener, which will be triggered if the listener is emitted using <tt class="docutils literal"><span class="pre">P.emit</span></tt>.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><strong>listener</strong> - the name of the event emitter you wish to listen for.</li>
<li><strong>callback</strong> - a callback function, which will be triggered, sometimes with parameters, when the emitter is triggered.</li>
</ul>
</div>
<div class="section" id="p-emit-listener-data">
<h6>P.emit(listener, [data])<a class="headerlink" href="#p-emit-listener-data" title="Permalink to this headline">¶</a></h6>
<p>Triggers a P event, by extension triggering the callback functions of all corresponding <tt class="docutils literal"><span class="pre">P.on</span></tt> listeners.</p>
<ul class="simple">
<li><strong>listener</strong> - the name of the event emitter you wish to trigger.</li>
<li><strong>data</strong> - any kind of JavaScript variable, which will be sent to the corresponding listener(s).</li>
</ul>
<p><strong>Using Emitters:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">sender</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="o">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
    <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Hello World!&quot;</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="p-extend-object1-object2">
<h6>P.extend(object1, object2)<a class="headerlink" href="#p-extend-object1-object2" title="Permalink to this headline">¶</a></h6>
<p>Merges <tt class="docutils literal"><span class="pre">object2</span></tt> into <tt class="docutils literal"><span class="pre">object1</span></tt>, much like the <tt class="docutils literal"><span class="pre">jQuery.extend</span></tt> function.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><strong>object1</strong> - the source object, which will be modified.</li>
<li><strong>object2</strong> - the modifier object, which will be merged into <tt class="docutils literal"><span class="pre">object1</span></tt>.</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">sender</span><span class="o">:</span> <span class="s2">&quot;Bob&quot;</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Hello World&quot;</span> <span class="p">};</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">object1</span><span class="p">,</span> <span class="nx">object2</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">object1</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span> <span class="c1">// &quot;Hello World&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="mvc">
<h3>MVC<a class="headerlink" href="#mvc" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-views"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body">Views.js</td>
</tr>
<tr class="field-even field"><th class="field-name">Dependencies:</th><td class="field-body">Core, Elements</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jesse Dunlap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="views">
<h4>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h4>
<p>Views make up the user interface of your application. They contain all markup and
JavaScript required to create your user experience. Views also trigger actions on
the controller for various different types of events.</p>
<div class="section" id="templating-engines">
<h5>Templating Engines<a class="headerlink" href="#templating-engines" title="Permalink to this headline">¶</a></h5>
<p>P allows for multiple different templating engines. By default, P uses the <strong>EJS</strong>
templating engine. For more information, see the Templating Engines documentation.</p>
</div>
<div class="section" id="loading-a-view">
<h5>Loading a View<a class="headerlink" href="#loading-a-view" title="Permalink to this headline">¶</a></h5>
<p>Views can be loaded in the controller, either inside of an element, or just appended
to the page. Choosing where you put your view ultimately comes down to what the view
does and how it functions.</p>
<div class="section" id="rendering-a-view-in-an-element">
<h6>Rendering a View in an Element<a class="headerlink" href="#rendering-a-view-in-an-element" title="Permalink to this headline">¶</a></h6>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">).</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;view&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="appending-a-view-to-the-body">
<h6>Appending a View to the Body<a class="headerlink" href="#appending-a-view-to-the-body" title="Permalink to this headline">¶</a></h6>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">viewElement</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">view</span><span class="p">(</span><span class="s2">&quot;view&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You <strong>do not</strong> need to add an extension for your views. This will be handled automatically
by the templating engine you have configured.</p>
</div>
</div>
</div>
<div class="section" id="access-to-the-p-object">
<h5>Access to the P Object<a class="headerlink" href="#access-to-the-p-object" title="Permalink to this headline">¶</a></h5>
<p>Views have access to both the <strong>server-side P Object</strong> and the <strong>client-side P Object</strong>.
The server side P object can be accessed through the templating engine&#8217;s template feature.</p>
<p>In EJS accessing the P object looks like this:</p>
<div class="highlight-html"><pre>&lt;% P.config.appName %&gt;</pre>
</div>
<p>You can also communicate with the P server using client-side JavaScript. We have done
our best to make this transition seamless, however only a few of the functions available
in the server-side P object are available in the client-side version.</p>
</div>
</div>
<span id="document-controllers"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body">Controllers.js</td>
</tr>
<tr class="field-even field"><th class="field-name">Dependencies:</th><td class="field-body">Core</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jesse Dunlap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="controllers">
<h4>Controllers<a class="headerlink" href="#controllers" title="Permalink to this headline">¶</a></h4>
<p><strong>Controllers</strong> are a major part of the MVC architecture. They serve as the &#8220;glue&#8221; between
Models and Views. Controllers contain methods, or functions, called <strong>actions</strong>, which
usually correspond to a single task the controller can perform.</p>
<div class="section" id="generating-a-controller">
<h5>Generating a Controller<a class="headerlink" href="#generating-a-controller" title="Permalink to this headline">¶</a></h5>
<p>Using the P command prompt, you can quickly generate a new controller, complete with
some basic bootstrap code. To generate a controller, run the following command in the
prompt:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">generate</span> <span class="nx">controller</span> <span class="o">&lt;</span><span class="nx">controller</span> <span class="nx">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Controllers are typically named in a lowercase, plural form of whatever data they will
be interacting with the most. For example, a controller that handles account registration,
login, and modification, might be called <tt class="docutils literal"><span class="pre">accounts</span></tt>.</p>
</div>
<div class="section" id="structure-of-a-controller">
<h5>Structure of a Controller<a class="headerlink" href="#structure-of-a-controller" title="Permalink to this headline">¶</a></h5>
<p>Controllers are, simply put, <strong>Node modules</strong>. This allows for potential portability in
the future, perhaps allowing you to simply take your code and put it into another Node
application.</p>
<p>Inside of the Controller, there can be variables or functions. Functions typically
correspond to actions, which may be invoked by Views or other Controllers.</p>
<p>A sample controller is shown below:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Index Action</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p>As you can see, this controller contains a single action: <tt class="docutils literal"><span class="pre">index</span></tt>. Most controllers
contain an index action, which serves as the &#8220;landing page&#8221; for the controller.</p>
<div class="section" id="special-controller-actions">
<h6>Special Controller Actions<a class="headerlink" href="#special-controller-actions" title="Permalink to this headline">¶</a></h6>
<p>Any controller can choose to implement a set of <strong>special actions</strong> which allow it to perform
actions in certain special-case scenarios.</p>
<p><strong>beforeFilter</strong></p>
<p>The <tt class="docutils literal"><span class="pre">beforeFilter</span></tt> action will be triggered before the controller is loaded.
(e.g. when the app calls <tt class="docutils literal"><span class="pre">P.controller(&quot;your_controller_name&quot;)</span></tt>)</p>
<p><strong>index</strong></p>
<p>It is usually a good idea to implement the <tt class="docutils literal"><span class="pre">index</span></tt> action, especially in the
<strong>P Websites</strong> fork of P. Future versions of P may automatically route to the
<tt class="docutils literal"><span class="pre">index</span></tt> action if another action is not specified.</p>
</div>
</div>
<div class="section" id="triggering-a-controller-action">
<h5>Triggering a Controller Action<a class="headerlink" href="#triggering-a-controller-action" title="Permalink to this headline">¶</a></h5>
<div class="section" id="in-a-controller">
<h6>In a Controller<a class="headerlink" href="#in-a-controller" title="Permalink to this headline">¶</a></h6>
<p>Triggering an action in a controller is simple, just use the <tt class="docutils literal"><span class="pre">P.controller</span></tt> function as shown below:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;controller_name&quot;</span><span class="p">).</span><span class="nx">action</span><span class="p">([</span><span class="nx">parameters</span><span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">P automatically caches controllers. If a controller has been previously loaded,
it will be returned by <tt class="docutils literal"><span class="pre">P.controller</span></tt>. To disable this, specify a second parameter:
<tt class="docutils literal"><span class="pre">{</span> <span class="pre">cache:</span> <span class="pre">false</span> <span class="pre">}</span></tt> in the <tt class="docutils literal"><span class="pre">P.controller</span></tt> function.</p>
</div>
</div>
<div class="section" id="in-a-view">
<h6>In a View<a class="headerlink" href="#in-a-view" title="Permalink to this headline">¶</a></h6>
<p><strong>Manual JavaScript Triggering</strong></p>
<p>The usual way of triggering a controller action is through client-side Javascript, using
the <strong>P.controller</strong> function. In client-side JavaScript, the <tt class="docutils literal"><span class="pre">P.controller</span></tt> function
acts a bit differently than on the server.</p>
<p>A usage example is shown below:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;controller_name&quot;</span><span class="p">).</span><span class="nx">action</span><span class="p">([</span><span class="nx">parameter</span><span class="p">],</span> <span class="p">[</span><span class="nx">callback</span><span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the controller returns something, the return value will be passed
as a parameter to the specified <tt class="docutils literal"><span class="pre">callback</span></tt> function.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You can only send one parameter to a controller action with client-side JavaScript.
However, this can be any kind of <strong>serializable</strong> data structure, including an
<strong>Object</strong>.</p>
</div>
<hr class="docutils" />
<p><strong>Quick Links</strong></p>
<p>You can also trigger a parameter-less controller action by adding the <tt class="docutils literal"><span class="pre">p:link</span></tt> attribute
to an <tt class="docutils literal"><span class="pre">anchor</span></tt> tag in your view. An example is shown below:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">p:link=</span><span class="s">&quot;controller.action&quot;</span><span class="nt">&gt;</span>Click Me<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Forms</strong></p>
<p>P allows you to quickly link a form, including its serialized data to a controller action
using the <tt class="docutils literal"><span class="pre">p:action</span></tt> tag. An example is shown below:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">p:action=</span><span class="s">&quot;controller.action&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>Your Name:<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Submit&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
<p>P will automatically serialize the form&#8217;s data and include it as the parameter for the
controller action. The form above would be serialized into this JSON data:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;The User&#39;s Entered Value&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">P can also serialize file input elements. For more information, see the Forms tutorial.</p>
</div>
<hr class="docutils" />
<p><strong>Callbacks</strong></p>
<div class="admonition-required-p-version admonition">
<p class="first admonition-title">Required P Version</p>
<p class="last"><strong>&gt;= 0.1.5</strong></p>
</div>
<p>Controller actions are able, through their <tt class="docutils literal"><span class="pre">return</span></tt> statement, to send data back to the calling
view as a callback function.</p>
<p><strong>Controller Action:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>View:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;some_controller&quot;</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// 7</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-index-controller">
<h5>The Index Controller<a class="headerlink" href="#the-index-controller" title="Permalink to this headline">¶</a></h5>
<p>The <strong>Index Controller</strong> (<tt class="docutils literal"><span class="pre">index.js</span></tt>) is a required controller, similar to the <strong>App Controller</strong>.</p>
<p>P assumes the existence of the index controller, as well as the <tt class="docutils literal"><span class="pre">index</span></tt> action. When a user
connects to the P server, a new instance of the P object is created, and the index controller&#8217;s
index action is triggered.</p>
</div>
<div class="section" id="the-app-controller">
<h5>The App Controller<a class="headerlink" href="#the-app-controller" title="Permalink to this headline">¶</a></h5>
<p>The <strong>App Controller</strong> provides a more global-oriented area to handle events for your
application. The app controller is required for proper operation of your application,
as well as implementation of the following methods:</p>
<div class="section" id="onload-callback">
<h6>onLoad(callback)<a class="headerlink" href="#onload-callback" title="Permalink to this headline">¶</a></h6>
<p><tt class="docutils literal"><span class="pre">onLoad</span></tt> is called when the user first connects to the P server. This is where you
should do any kind of filesystem setup, session restoring, or database connections.
Once you&#8217;ve finished doing everything you need to do, you will need to trigger the
<tt class="docutils literal"><span class="pre">callback()</span></tt> method.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Failure to trigger the <tt class="docutils literal"><span class="pre">callback()</span></tt> function will stop your app from loading.</p>
</div>
</div>
<div class="section" id="onexit">
<h6>onExit()<a class="headerlink" href="#onexit" title="Permalink to this headline">¶</a></h6>
<p><tt class="docutils literal"><span class="pre">onExit</span></tt> is called when the user disconnects from your app. It gives you an opportunity
to do any background processing necessary to save the user&#8217;s state, and clean up anything
you need to.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When the user disconnects, or closes the web page, nothing happens on the server side,
so you can use almost any information without fear of it being deleted. However, this
means you will need to be careful about memory usage and clean-up.</p>
</div>
</div>
<div class="section" id="beforefilter">
<h6>beforeFilter()<a class="headerlink" href="#beforefilter" title="Permalink to this headline">¶</a></h6>
<p><tt class="docutils literal"><span class="pre">beforeFilter</span></tt> functions like the beforeFilter action on any controller, except the
App controller&#8217;s beforeFilter action gets triggered before <em>every</em> controller load.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="user-interface">
<h3>User Interface<a class="headerlink" href="#user-interface" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-elements"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body">Elements.js</td>
</tr>
<tr class="field-even field"><th class="field-name">Dependencies:</th><td class="field-body">Core</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jesse Dunlap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="elements">
<h4>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h4>
<div class="section" id="introduction">
<h5>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h5>
<p>Elements are one of the most important, and exiting features of the P Framework. Elements
provide a wrapper for you to directly modify HTML on the current user&#8217;s page, or
through the <strong>ClientSync</strong> API, another user&#8217;s page.</p>
<p>The Elements API directly mimics and corresponds to the jQuery API, with a few exceptions.</p>
</div>
<div class="section" id="selecting-elements">
<h5>Selecting Elements<a class="headerlink" href="#selecting-elements" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;jquery selector&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The element selector can literally be any kind of jQuery selector, as they directly map to jQuery.</p>
</div>
</div>
<div class="section" id="selecting-children">
<h5>Selecting Children<a class="headerlink" href="#selecting-children" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#parent&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">child</span> <span class="o">=</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#child&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">selector</span><span class="p">);</span> <span class="c1">// &quot;#parent &gt; #child&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="rendering-a-view-in-an-element">
<h5>Rendering a View In an Element<a class="headerlink" href="#rendering-a-view-in-an-element" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">).</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;view&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</div>
<span id="document-strings"></span><div class="section" id="strings-and-snippets">
<h4>Strings and Snippets<a class="headerlink" href="#strings-and-snippets" title="Permalink to this headline">¶</a></h4>
<div class="section" id="strings">
<h5>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h5>
<p>Strings allow you to outsource all <strong>copy</strong> from your controllers. MVC design patterns
discourage the use of HTML or application copy inside of controllers.</p>
<p>Strings are different from Snippets, because they are not ran through a templating engine,
but rather just returned as-is.</p>
<div class="section" id="using-strings">
<h6>Using Strings<a class="headerlink" href="#using-strings" title="Permalink to this headline">¶</a></h6>
<p>To use a string, you call the <tt class="docutils literal"><span class="pre">P.string</span></tt> or <tt class="docutils literal"><span class="pre">P.str</span></tt> function as shown below:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">P</span><span class="p">.</span><span class="nx">string</span><span class="p">(</span><span class="s2">&quot;hello_world&quot;</span><span class="p">));</span>
</pre></div>
</div>
<p>The code snippet above would look for a string at <tt class="docutils literal"><span class="pre">app/strings/locale/hello_world.string</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To prevent extensive I/O, strings are pre-loaded when the user connects to the app.
If a string does not exist in the cache, it will be loaded from the file system.</p>
</div>
</div>
</div>
<div class="section" id="snippets">
<h5>Snippets<a class="headerlink" href="#snippets" title="Permalink to this headline">¶</a></h5>
<p>Snippets are much like strings, except they are ran through a templating engine, just like
Views. Snippets are useful in both Controllers and Views, as they can be used to quickly
re-use important parts of the user interface.</p>
<div class="section" id="using-snippets">
<h6>Using Snippets<a class="headerlink" href="#using-snippets" title="Permalink to this headline">¶</a></h6>
<p>To use a snippet in either a view or a controller, you use the <tt class="docutils literal"><span class="pre">P.snippet</span></tt> function:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">snippet</span><span class="p">(</span><span class="s2">&quot;hello_world&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
<p>Snippets, like views, should be saved with an extension corresponding to the templating
engine you are currently using. The default is <tt class="docutils literal"><span class="pre">.ejs</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Also like views, snippets have access to the server-side P object through the
templating engine, as well as the P client-side variable through normal JavaScript.</p>
</div>
</div>
</div>
</div>
<span id="document-localization"></span><div class="section" id="localization">
<h4>Localization<a class="headerlink" href="#localization" title="Permalink to this headline">¶</a></h4>
<p>P supports localization, allowing you to re-use most of your code across different
languages. By simply changing a variable in the <cite>config/environment.js</cite> file, you
can switch your app to different languages.</p>
<div class="section" id="changing-localization">
<h5>Changing Localization<a class="headerlink" href="#changing-localization" title="Permalink to this headline">¶</a></h5>
<p>To change your localization, modify the <tt class="docutils literal"><span class="pre">localization</span></tt> variable in <tt class="docutils literal"><span class="pre">config/environment.js</span></tt>.</p>
</div>
<div class="section" id="localizing-views-and-strings">
<h5>Localizing Views and Strings<a class="headerlink" href="#localizing-views-and-strings" title="Permalink to this headline">¶</a></h5>
<p>Views and Strings are stored in subdirectories corresponding to their localization. By default,
P uses the <tt class="docutils literal"><span class="pre">en</span></tt> localization, for English. Your views and strings are put in an <tt class="docutils literal"><span class="pre">en</span></tt>
subdirectory inside either the <tt class="docutils literal"><span class="pre">app/views</span></tt> or <tt class="docutils literal"><span class="pre">app/strings</span></tt> directories.</p>
<p>Localizing views and strings is as simple as creating different views and strings in
different languages, and putting them in subdirectories corresponding to different
localizations.</p>
</div>
</div>
<span id="document-templating_engines"></span><div class="section" id="templating-engines">
<h4>Templating Engines<a class="headerlink" href="#templating-engines" title="Permalink to this headline">¶</a></h4>
<div class="section" id="introduction">
<h5>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h5>
<p>P supports a variety of different templating engines, and even allows you to quickly add custom support for your own.</p>
</div>
<div class="section" id="changing-templating-engines">
<h5>Changing Templating Engines<a class="headerlink" href="#changing-templating-engines" title="Permalink to this headline">¶</a></h5>
<p>To change a templating engine, simply edit the <tt class="docutils literal"><span class="pre">config/environment.js</span></tt> config file. Change the <tt class="docutils literal"><span class="pre">templatingEngine</span></tt> variable.</p>
<div class="section" id="available-options">
<h6>Available Options<a class="headerlink" href="#available-options" title="Permalink to this headline">¶</a></h6>
<ul class="simple">
<li>&#8220;ejs&#8221;</li>
<li>&#8220;jade&#8221;</li>
<li>&#8220;mustache&#8221;</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="misc">
<h3>Misc.<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-accounts"></span><div class="section" id="accounts">
<h4>Accounts<a class="headerlink" href="#accounts" title="Permalink to this headline">¶</a></h4>
<p>The Accounts Module allows your app to have user accounts set up out of the box,
complete with name, email, password, avatars, and any additional data you desire.</p>
<p>The Accounts module uses MongoDb, and references the <tt class="docutils literal"><span class="pre">mongo</span></tt> config in the
<tt class="docutils literal"><span class="pre">config/environment.js</span></tt> file.</p>
<div class="section" id="initializing-the-accounts-module">
<h5>Initializing the Accounts Module<a class="headerlink" href="#initializing-the-accounts-module" title="Permalink to this headline">¶</a></h5>
<p>Before you can use the Accounts module, you will need to add the following code to your
<strong>App Controller&#8217;s</strong> <tt class="docutils literal"><span class="pre">onLoad</span></tt> action:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">depends</span><span class="p">([</span><span class="s2">&quot;Accounts&quot;</span><span class="p">]);</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">init</span></tt> method will:</p>
<ul class="simple">
<li>Connect to the P account database</li>
<li>Re-establish a session if one exists</li>
<li>Notify you of any errors that occur</li>
</ul>
</div>
<div class="section" id="checking-if-the-user-is-logged-in">
<h5>Checking If The User is Logged In<a class="headerlink" href="#checking-if-the-user-is-logged-in" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">isLoggedIn</span><span class="p">()</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// user authenticated</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-the-logged-in-user">
<h5>Accessing the Logged In User<a class="headerlink" href="#accessing-the-logged-in-user" title="Permalink to this headline">¶</a></h5>
<p>If you have an active login session, you can access the account information using
the <tt class="docutils literal"><span class="pre">P.account</span></tt> object. A sample Account Object is shown below:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;firstName&quot;</span><span class="o">:</span>      <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastName&quot;</span><span class="o">:</span>       <span class="s2">&quot;Doe&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="o">:</span>       <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
    <span class="s2">&quot;username&quot;</span><span class="o">:</span>       <span class="s2">&quot;john.doe&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span>          <span class="s2">&quot;john@gmail.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;additionalData&quot;</span><span class="o">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="registering-a-new-user">
<h5>Registering a New User<a class="headerlink" href="#registering-a-new-user" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">lastName</span>  <span class="o">=</span> <span class="s2">&quot;Doe&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">password</span>  <span class="o">=</span> <span class="s2">&quot;1234&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">email</span>     <span class="o">=</span> <span class="s2">&quot;john@gmail.com&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">username</span>  <span class="o">=</span> <span class="s2">&quot;john.doe&quot;</span><span class="p">;</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// completed registration</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="authenticating-a-user">
<h5>Authenticating a User<a class="headerlink" href="#authenticating-a-user" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">loggedIn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">loggedIn</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// authenticated</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The user can enter either their <strong>username</strong> or <strong>email address</strong>. Both will work.</p>
</div>
</div>
<div class="section" id="logging-out">
<h5>Logging Out<a class="headerlink" href="#logging-out" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="updating-user-information">
<h5>Updating User Information<a class="headerlink" href="#updating-user-information" title="Permalink to this headline">¶</a></h5>
<p>After successful authentication, you can change the <tt class="docutils literal"><span class="pre">P.account</span></tt> object to match
the new information, then call <tt class="docutils literal"><span class="pre">P.accounts.update()</span></tt></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s2">&quot;Johnny&quot;</span><span class="p">;</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// completed update</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As of now, changing the username, password, or email of the user does not invalidate
the session. You will have to do this on your own.</p>
</div>
</div>
<div class="section" id="gravatars">
<h5>Gravatars<a class="headerlink" href="#gravatars" title="Permalink to this headline">¶</a></h5>
<p>The Accounts Module uses Gravatars for avatar storage. You can choose to use your own
avatar storage if you would like. A couple of functions are provided for retrieving
Gravatar information...</p>
<div class="section" id="p-accounts-grav-email">
<h6>P.accounts.grav(email)<a class="headerlink" href="#p-accounts-grav-email" title="Permalink to this headline">¶</a></h6>
<p>This shorthand function returns a Gravatar URL for the specified <tt class="docutils literal"><span class="pre">email</span></tt>.</p>
</div>
<div class="section" id="p-accounts-getgravatar">
<h6>P.accounts.getGravatar()<a class="headerlink" href="#p-accounts-getgravatar" title="Permalink to this headline">¶</a></h6>
<p>Gets the current authenticated user&#8217;s Gravatar URL.</p>
</div>
</div>
</div>
<span id="document-session"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body">Session.js</td>
</tr>
<tr class="field-even field"><th class="field-name">Dependencies:</th><td class="field-body">Core</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jesse Dunlap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="session-data">
<h4>Session Data<a class="headerlink" href="#session-data" title="Permalink to this headline">¶</a></h4>
<p>Session data is a client-specific persistent storage, in the form of JSON. When a client
first connects to a P server, they are assigned a unique ID. Upon return visits, that client
identifies itself with that ID, and the server will load the client&#8217;s session data.</p>
<p>Session data is stored in the <tt class="docutils literal"><span class="pre">app/data</span></tt> folder, as a JSON file.</p>
<div class="section" id="setting-session-data">
<h5>Setting Session Data<a class="headerlink" href="#setting-session-data" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">session</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#8220;value&#8221; can be any JSON-compatible data structure.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Saving non-JSON-compatible data can cause your app to crash repeatedly. If this happens,
simply delete the offending <tt class="docutils literal"><span class="pre">.json</span></tt> file from <tt class="docutils literal"><span class="pre">app/data</span></tt>.</p>
</div>
<p>Reading Session Data</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">session</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<span id="document-clientsync"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body">ClientSync.js</td>
</tr>
<tr class="field-even field"><th class="field-name">Dependencies:</th><td class="field-body">Core</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jesse Dunlap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="accessing-other-clients">
<h4>Accessing Other Clients<a class="headerlink" href="#accessing-other-clients" title="Permalink to this headline">¶</a></h4>
<p>A main feature of P is the ability to easily and quickly interact with other
connected users. P allows this through a feature called <strong>ClientSync</strong>.</p>
<div class="section" id="getting-a-list-of-clients">
<h5>Getting a List of Clients<a class="headerlink" href="#getting-a-list-of-clients" title="Permalink to this headline">¶</a></h5>
<p><tt class="docutils literal"><span class="pre">P.clients</span></tt> is a list of P instances, including your own, which is actively updated
as users connect and disconnect.</p>
</div>
<div class="section" id="iterating-through-clients">
<h5>Iterating Through Clients<a class="headerlink" href="#iterating-through-clients" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">clients</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">).</span><span class="nx">index</span><span class="p">();</span> <span class="c1">// call the index action on the client</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">client</span></tt> represents an instance of P, just like the <tt class="docutils literal"><span class="pre">P</span></tt> object, but corresponding to that client.</p>
</div>
</div>
<div class="section" id="listening-for-client-changes">
<h5>Listening for Client Changes<a class="headerlink" href="#listening-for-client-changes" title="Permalink to this headline">¶</a></h5>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;clients_changed&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// someone connected or disconnected</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="tutorials">
<h2>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-file_uploads"></span><div class="section" id="uploading-files-with-p">
<h3>Uploading Files With P<a class="headerlink" href="#uploading-files-with-p" title="Permalink to this headline">¶</a></h3>
<div class="section" id="create-the-upload-form">
<h4>1. Create the upload form<a class="headerlink" href="#create-the-upload-form" title="Permalink to this headline">¶</a></h4>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">p:action=</span><span class="s">&quot;upload.submit&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span> <span class="na">name=</span><span class="s">&quot;file&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Upload&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="handle-the-upload-in-a-controller">
<h4>2. Handle the Upload in a controller<a class="headerlink" href="#handle-the-upload-in-a-controller" title="Permalink to this headline">¶</a></h4>
<p><strong>Upload Controller:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">submit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">formData</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fileName</span> <span class="o">=</span> <span class="nx">formData</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">dataURL</span>  <span class="o">=</span> <span class="nx">formData</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">contents</span><span class="p">;</span>

        <span class="c1">// parse the data URL</span>
        <span class="kd">var</span> <span class="nx">buff</span>     <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">parseDataURL</span><span class="p">(</span><span class="nx">dataURL</span><span class="p">);</span>

        <span class="c1">// write the file</span>
        <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;fs&quot;</span><span class="p">).</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="nx">fileName</span><span class="p">,</span> <span class="nx">buff</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<p>When the form is submitted, the files to be uploaded are compressed into <strong>Data URLs</strong>.
When the data arrives at the server, we then need to de-compress it. P provides a helper
function, which converts a data URL to a <tt class="docutils literal"><span class="pre">Buffer</span></tt>. Finally, we can write it to the
server&#8217;s file system.</p>
</div>
</div>
<span id="document-prod"></span><div class="section" id="readying-your-app-for-production">
<h3>Readying Your App For Production<a class="headerlink" href="#readying-your-app-for-production" title="Permalink to this headline">¶</a></h3>
<p>Before you can deploy your application on a public server, you will need to take a few extra steps
to get P to work for multiple people.</p>
<div class="section" id="connect-to-your-server-not-localhost">
<h4>Connect to your server, not localhost<a class="headerlink" href="#connect-to-your-server-not-localhost" title="Permalink to this headline">¶</a></h4>
<p>By default, P connects to <tt class="docutils literal"><span class="pre">http://127.0.0.1:8080</span></tt>. This connection happens in <tt class="docutils literal"><span class="pre">index.html</span></tt>. While
this works fine when the P server is running locally, it won&#8217;t work if other users, who do not have
a local P server running, try to connect to your application. To fix this, change the <tt class="docutils literal"><span class="pre">host</span></tt> to match
your host server&#8217;s IP address.</p>
<p>In <tt class="docutils literal"><span class="pre">config/global/client.json</span></tt>:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;host&quot;</span><span class="p">:</span>    <span class="s2">&quot;your.servers.ip.address&quot;</span><span class="p">,</span>
    <span class="nt">&quot;port&quot;</span><span class="p">:</span>    <span class="mi">8080</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="change-environment-to-production">
<h4>Change Environment to Production<a class="headerlink" href="#change-environment-to-production" title="Permalink to this headline">¶</a></h4>
<p>In <tt class="docutils literal"><span class="pre">config/environment.js</span></tt> you will want to switch the <tt class="docutils literal"><span class="pre">environment</span></tt> setting to <tt class="docutils literal"><span class="pre">&quot;production&quot;</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span> <span class="nx">environment</span><span class="o">:</span> <span class="s2">&quot;production&quot;</span> <span class="p">});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Developers often neglect the production configuration when developing. Make sure everything is correct, and up to date.</p>
</div>
</div>
<div class="section" id="setting-a-session-key">
<h4>Setting a Session Key<a class="headerlink" href="#setting-a-session-key" title="Permalink to this headline">¶</a></h4>
<p>You may have noticed a warning when you start the P server about a session key. While this isn&#8217;t
<strong>essential</strong>, it is highly recommended for production environments.</p>
<p>To change the session key, edit <tt class="docutils literal"><span class="pre">config/global/app.js</span></tt>. Change the session key to something unique
to your application. This will help P set your app apart from other P applications, and prevent session
mix-ups.</p>
</div>
</div>
</div>
</div>
<div class="section" id="module-documentation">
<h2>Module Documentation<a class="headerlink" href="#module-documentation" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-accounts_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Accounts.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, MongoDb</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="accounts-module">
<h3>Accounts Module<a class="headerlink" href="#accounts-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-accounts-modules">
<h4>About the Accounts Modules<a class="headerlink" href="#about-the-accounts-modules" title="Permalink to this headline">¶</a></h4>
<p>The Accounts module allows your P application to have user account
functionality out of the box. The account module handles <strong>registration</strong>,
<strong>authentication</strong>, and <strong>account modification</strong>.</p>
</div>
<div class="section" id="data-storage">
<h4>Data Storage<a class="headerlink" href="#data-storage" title="Permalink to this headline">¶</a></h4>
<p>Currently, the Accounts module utilizes a MongoDb connection to store
account information. The Accounts module reads the Mongo configuration
from <tt class="docutils literal"><span class="pre">config/environment.js</span></tt> and automatically sets up it&#8217;s own, separate
connection.</p>
<p>The Accounts module uses the <tt class="docutils literal"><span class="pre">accounts</span></tt> collection in your configured
database. You will be notified via an <strong>Error Message</strong> in the P console
output if the Accounts module is unable to connect to the configured
MongoDb server.</p>
</div>
<div class="section" id="account-structure">
<h4>Account Structure<a class="headerlink" href="#account-structure" title="Permalink to this headline">¶</a></h4>
<p>Accounts are stored as records in a MongoDb collection. Every account
record contains a:</p>
<ul class="simple">
<li>Mongo ID (<tt class="docutils literal"><span class="pre">_id</span></tt>)</li>
<li>First Name</li>
<li>Last Name</li>
<li>Username</li>
<li>Password</li>
<li>Email Address</li>
<li>Additional Data (a JavaScript object, which can be almost anything)</li>
</ul>
<p>When your client has an authenticated session, their current account information
will be stored in <tt class="docutils literal"><span class="pre">P.account</span></tt>. An sample account structure looks like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;firstName&quot;</span><span class="o">:</span>        <span class="s2">&quot;John&quot;</span><span class="p">,</span>
   <span class="s2">&quot;lastName&quot;</span><span class="o">:</span>         <span class="s2">&quot;Doe&quot;</span><span class="p">,</span>
   <span class="s2">&quot;password&quot;</span><span class="o">:</span>         <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
   <span class="s2">&quot;email&quot;</span><span class="o">:</span>            <span class="s2">&quot;john@gmail.com&quot;</span><span class="p">,</span>
   <span class="s2">&quot;username&quot;</span><span class="o">:</span>         <span class="s2">&quot;john.doe&quot;</span><span class="p">,</span>
   <span class="s2">&quot;additionalData&quot;</span><span class="o">:</span>   <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.accounts.getSkeleton()</dt>
<dd><p class="first">Returns an empty account Skeleton, which represents a new, blank user.</p>
<p><strong>&#64;param</strong>                   None.</p>
<p class="last"><strong>&#64;return</strong>                  An empty account skeleton. (See <strong>Account Structure</strong>)</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.isLoggedIn()</dt>
<dd><p class="first">Returns <tt class="docutils literal"><span class="pre">true</span></tt> if the client has an active, authenticated login session.
Returns <tt class="docutils literal"><span class="pre">false</span></tt> if the client is not authenticated.</p>
<p><strong>&#64;param</strong>           None.</p>
<p class="last"><strong>&#64;return</strong>          <tt class="docutils literal"><span class="pre">true</span></tt> if authenticated, <tt class="docutils literal"><span class="pre">false</span></tt> if not authenticated.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.init(callback)</dt>
<dd><p class="first">Initializes the Accounts module, and restores an active session if one
exists. This should be called in the <strong>app controller&#8217;s</strong> <tt class="docutils literal"><span class="pre">index</span></tt> action.</p>
<p><strong>&#64;param</strong>           <tt class="docutils literal"><span class="pre">function</span></tt> callback - Callback function which is called once initialization is finished.</p>
<p class="last"><strong>&#64;return</strong>                  None.</p>
</dd>
</dl>
<p><strong>Example:</strong> Initializing the Accounts Module.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="cm">/**</span>
<span class="cm"> * controllers/app.js</span>
<span class="cm"> */</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">P</span><span class="p">.</span><span class="nx">depends</span><span class="p">([</span><span class="s2">&quot;Accounts&quot;</span><span class="p">]);</span>
        <span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.grav(email)</dt>
<dd><p class="first">Returns a <strong>Gravatar URL</strong> to an image for the given email&#8217;s associated
Gravatar. This is useful for when you have an account email, and wish to
fetch an avatar for the account.</p>
<p><strong>&#64;param</strong>                   <tt class="docutils literal"><span class="pre">string</span></tt> email - Email to fetch Gravatar for</p>
<p class="last"><strong>&#64;return</strong>                  <tt class="docutils literal"><span class="pre">string</span></tt> A URL to a Gravatar image</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.getGravatar()</dt>
<dd><p class="first">Returns a <strong>Gravatar URL</strong> for the currently authenticated user.</p>
<p><strong>&#64;param</strong>                   None.</p>
<p class="last"><strong>&#64;return</strong>                  <tt class="docutils literal"><span class="pre">string</span></tt> A URL to the current user&#8217;s Gravatar</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.update(callback)</dt>
<dd><p class="first">Saves the data in <tt class="docutils literal"><span class="pre">P.account</span></tt> to the database.</p>
<p><strong>&#64;param</strong>                   <tt class="docutils literal"><span class="pre">function</span></tt> callback - Called when the update is complete</p>
<p class="last"><strong>&#64;return</strong>                  None</p>
</dd>
</dl>
<p><strong>Example:</strong> Updating a user.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s2">&quot;Johnny&quot;</span><span class="p">;</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// John renamed to Johnny</span>
    <span class="c1">// Update Complete.</span>
<span class="p">});</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.register(callback)</dt>
<dd><p class="first">Creates a new user, using the data in <tt class="docutils literal"><span class="pre">P.account</span></tt>.</p>
<p><strong>&#64;param</strong>                   <tt class="docutils literal"><span class="pre">function</span></tt> callback - Called when the registration is complete</p>
<p class="last"><strong>&#64;return</strong>                  None</p>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function does not validate if a duplicate user exists, and will create a duplicate user if supplied duplicate information.</p>
</div>
<p><strong>Example:</strong> Registering a user.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">username</span>    <span class="o">=</span> <span class="s2">&quot;john.doe&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">firstName</span>   <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">lastName</span>    <span class="o">=</span> <span class="s2">&quot;Doe&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">password</span>    <span class="o">=</span> <span class="s2">&quot;1234&quot;</span><span class="p">;</span>
<span class="nx">P</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">email</span>       <span class="o">=</span> <span class="s2">&quot;john@gmail.com&quot;</span><span class="p">;</span>

<span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Registration complete.</span>
<span class="p">});</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.logout()</dt>
<dd><p class="first">Logs the user out and invalidates the current login session.
Resets <tt class="docutils literal"><span class="pre">P.account</span></tt> to a blank skeleton account.</p>
<p><strong>&#64;param</strong>                           None.</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.accounts.login(usernameOrEmail, password, callback)</dt>
<dd><p class="first">Attempts to validate the given login information. If validation is
successful, the session will be saved for future use.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> usernameOrEmail - The username or email address of the user</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> password - The password of the user</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">function</span></tt> callback - Callback function, which is called once the authentication response is ready</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a valid username or email address is supplied, as well as a valid password, authentication will succeed. This allows your users to log in using either their username or email address, and your application&#8217;s text should reflect this.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As of now, no methods are in place to encrypt any user data, namely <strong>passwords</strong>. If you would
like to encrypt passwords, simply encrypt them manually before passing them into any of the
Account module&#8217;s functions. Future plans for encryption <strong>are</strong> being considered.</p>
</div>
<p><strong>Example:</strong> Authenticating a user.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">&quot;john.doe&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">successfulLogin</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">successfulLogin</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Login Successful!</span>
    <span class="p">}</span>

    <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Invalid username/email or password combination</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<span id="document-clientsync_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/ClientSync.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="clientsync-module">
<h3>ClientSync Module<a class="headerlink" href="#clientsync-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-clientsync-module">
<h4>About the ClientSync Module<a class="headerlink" href="#about-the-clientsync-module" title="Permalink to this headline">¶</a></h4>
<p>The ClientSync module allows your application to synchronize and communicate
between connected &#8220;users&#8221; or &#8220;clients&#8221;. When a user connects to your application
server, they are added to a global clients list.</p>
<p>The ClientSync module allows you to access this list through <tt class="docutils literal"><span class="pre">P.clients</span></tt>.
The list contains P instances for every connected client, <strong>including the
local connected instance.</strong></p>
</div>
<div class="section" id="iterating-through-clients">
<h4>Iterating Through Clients<a class="headerlink" href="#iterating-through-clients" title="Permalink to this headline">¶</a></h4>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">clients</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">client</span> <span class="o">==</span> <span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// client is our current instance of P</span>
    <span class="p">}</span>

    <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// client is a different instance of P</span>
        <span class="c1">// and can be used just like the P variable.</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="what-can-you-do-with-clients">
<h4>What Can You Do With Clients?<a class="headerlink" href="#what-can-you-do-with-clients" title="Permalink to this headline">¶</a></h4>
<p>By gaining access to an entry in the <tt class="docutils literal"><span class="pre">P.clients</span></tt> array, you are gaining
access to another instance of the <strong>P Object</strong>. This means that you can do
literally anything with a client entry that you can with the usual <strong>P Object</strong>,
including, but not limited to, <strong>calling controller methods</strong>, <strong>modifying elements</strong>,
<strong>sending P and Socket.io emissions</strong>, and <strong>changing variables directly in the P object</strong>.
The possibilities are nearly unlimited.</p>
</div>
</div>
<span id="document-controller_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Controller.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, Debugger</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="controller-module">
<h3>Controller Module<a class="headerlink" href="#controller-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-controller-module">
<h4>About the Controller Module<a class="headerlink" href="#about-the-controller-module" title="Permalink to this headline">¶</a></h4>
<p>The Controller module handles everything related to the Controller aspect
in the P MVC architecture. The Controller module allows you to trigger
controller actions, and handles client-side controller action triggering.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.controller(name, [options])</dt>
<dd><p class="first">Returns a local cached instance of the specified controller.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> name - The name of the controller you wish to access</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> options - A key-value pair specifying various special options. See <strong>Options</strong> below.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">Controller</span></tt> a cached instance of the requested controller object</p>
</dd>
</dl>
<div class="section" id="options">
<h5>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h5>
<p>Below are options that you can specify in the second parameter of <tt class="docutils literal"><span class="pre">P.controller</span></tt>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="6%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option Key</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">cache</span></tt></td>
<td><tt class="docutils literal"><span class="pre">bool</span></tt></td>
<td>If set to <tt class="docutils literal"><span class="pre">false</span></tt>, the <tt class="docutils literal"><span class="pre">P.controller</span></tt> function will load a <strong>new</strong> version of the controller, instead of a cached version.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you specify that the <tt class="docutils literal"><span class="pre">P.controller</span></tt> function should use a <strong>new</strong> version of the controller, it will over-write the cached version with the new version in the controller cache.</p>
</div>
<p><strong>Example:</strong> Triggering a controller action from another controller.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">).</span><span class="nx">index</span><span class="p">();</span> <span class="c1">// trigger the index controller&#39;s index action</span>
</pre></div>
</div>
<p><strong>Example:</strong> Triggering a controller action in a view&#8217;s JavaScript.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;index&quot;</span><span class="p">);</span> <span class="c1">// index controller&#39;s index action</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Triggering a controller in a view is a bit different than in a controller, for more information, see the <strong>Controllers</strong> guide.</p>
</div>
</div>
</div>
<div class="section" id="manually-triggering-a-controller-action">
<h4>Manually Triggering a Controller Action<a class="headerlink" href="#manually-triggering-a-controller-action" title="Permalink to this headline">¶</a></h4>
<p>It is possible to directly trigger a controller action through Socket.IO, but this
should never need to be done in normal use-cases. Regardless, an example is shown below...</p>
<p><strong>Example:</strong> Triggering a controller action through Socket.IO.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">socket</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&quot;call&quot;</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">controller</span><span class="o">:</span>    <span class="s2">&quot;index&quot;</span><span class="p">,</span>
   <span class="nx">action</span><span class="o">:</span>        <span class="s2">&quot;index&quot;</span><span class="p">,</span>
   <span class="nx">data</span><span class="o">:</span>          <span class="s2">&quot;hello&quot;</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The value for <tt class="docutils literal"><span class="pre">data</span></tt> will be mapped to the action&#8217;s first parameter.</p>
</div>
</div>
</div>
<span id="document-debugger_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Debugger.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="debugger-module">
<h3>Debugger Module<a class="headerlink" href="#debugger-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-debugger-module">
<h4>About the Debugger Module<a class="headerlink" href="#about-the-debugger-module" title="Permalink to this headline">¶</a></h4>
<p>Currently, the Debugger module is just a wrapper for a more feature-rich
debugging system in the near future. The eventual goal of the debugger
system and module is to have a more robust logger, which can be configured
to display certain kinds of messages, send notifications when critical
errors occur, log to databases or files, and more.</p>
<p>As of now, nothing, besides coloring of different message types in the
console is implemented, however it is still suggested that your app use
the Debugger module, since the API of the module will not change very much.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.log.error(message)</dt>
<dd><p class="first">Logs a critical error. This method should be used in the event
that something has occured that will prevent complete operation
of a feature.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> message - A description of what has happened to cause this error, and steps that can be taken to remedy it.</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.log.warning(message)</dt>
<dd><p class="first">Logs a warning message. This method should be used in the event
that something that is sub-nominal has occured. Warnings should be
issued when performance or optimal behavior of a component will be
affected.</p>
<p class="last"><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> message - A description of what has happened to cause the warning, and steps to remedy it (if applicable).</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.log.notice(message)</dt>
<dd><p class="first">Logs an informational notice. This method should be used simply to
keep the developer informed on what is happening in the system. Notices
should report status changes, and expected activity.</p>
<p class="last"><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> message - An informational message.</p>
</dd>
</dl>
</div>
</div>
<span id="document-element_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Element.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, View</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="element-module">
<h3>Element Module<a class="headerlink" href="#element-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-element-module">
<h4>About the Element Module<a class="headerlink" href="#about-the-element-module" title="Permalink to this headline">¶</a></h4>
<p>The Element module provides the ability to communicate, manipulate, and
handle events for on-screen elements. The Element API has been designed
to match the <strong>jQuery</strong> API as much as possible.</p>
<p>The basis of the Element API is the <tt class="docutils literal"><span class="pre">P.$</span></tt> function, which works much
like the <tt class="docutils literal"><span class="pre">jQuery</span></tt> or <tt class="docutils literal"><span class="pre">$</span></tt> function in the jQuery library.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">jQuery-style method chaining is not currently supported, but is planned in a future release of P.</p>
</div>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A complete list of methods has not been provided. For reference,
please see the jQuery method reference. Instead, the unique or
important methods in the Element module have been highlighted.</p>
</div>
<dl class="docutils">
<dt>P.$(selector)</dt>
<dd><p class="first">Creates a new <tt class="docutils literal"><span class="pre">Element</span></tt> object, which acts upon the specified
selector.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> selector - A jQuery selector. Literally any jQuery selector will work, as it directly maps to the <tt class="docutils literal"><span class="pre">jQuery</span></tt> function.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">Element</span></tt> An element corresponding to the specified selector.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">string</span></tt> Element.selector</dt>
<dd>A string representation of the Element&#8217;s selector.</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>Element.$(selector)</dt>
<dd><p class="first">Returns a new element which is mapped to the specified selector inside
the parent element.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> selector - The child jQuery selector</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">Element</span></tt> A child element inside of the parent element, matching the specified selector.</p>
</dd>
</dl>
<p><strong>Example:</strong> Selecting a child element.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#parent&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">parent</span><span class="p">.</span><span class="nx">selector</span><span class="p">);</span>    <span class="c1">// &quot;#parent&quot;</span>

<span class="kd">var</span> <span class="nx">child</span>  <span class="o">=</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#child&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">selector</span><span class="p">);</span>     <span class="c1">// &quot;#parent &gt; #child&quot;</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="docutils">
<dt>Element.render(view, options)</dt>
<dd><p class="first">Renders a view inside of the element.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> view - The name of the view you wish to render.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> options - Key-value pair, which will be passed to the view.</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>Element.jq(method, args)</dt>
<dd><p class="first">Allows you to manually call a jQuery function on the element, with arguments.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> method - The jQuery method you want to call.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">list</span></tt> args - A list of arguments, which will be mapped to the jQuery function.</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<p><strong>Example:</strong> Calling a custom jQuery function.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>

<span class="nx">element</span><span class="p">.</span><span class="nx">jq</span><span class="p">(</span><span class="s2">&quot;myCustomFunction&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;arg1&quot;</span><span class="p">,</span> <span class="s2">&quot;arg2&quot;</span><span class="p">,</span> <span class="s2">&quot;arg3&quot;</span><span class="p">]);</span>
<span class="c1">// This is the equivalent of: $(&#39;#element&#39;).myCustomFunction(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;);</span>
</pre></div>
</div>
</div>
</div>
<span id="document-helpers_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Helpers.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="helpers-module">
<h3>Helpers Module<a class="headerlink" href="#helpers-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-helpers-module">
<h4>About the Helpers Module<a class="headerlink" href="#about-the-helpers-module" title="Permalink to this headline">¶</a></h4>
<p>The Helpers module implements various utility functions, which do not fit into
a single Component category.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">object</span></tt> P.globe</dt>
<dd>Convenient access to the P temporary global object, which persists across the entire server.</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.title(title)</dt>
<dd><p class="first">Sets the title of the client&#8217;s web browser.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> title - The title you want the page to have.</p>
<p class="last"><strong>&#64;return</strong>                          None;</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.lib(library)</dt>
<dd><p class="first">Loads a library from the <tt class="docutils literal"><span class="pre">lib</span></tt> directory. For more information, see the <strong>Libraries</strong> guide.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> library - The path, relative to the <tt class="docutils literal"><span class="pre">lib</span></tt> directory, to the desired library.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">function</span></tt> Returns an initialized instance of the library.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.parseDataURL(dataURL)</dt>
<dd><p class="first">Takes a data URL and converts it to a Node <tt class="docutils literal"><span class="pre">Buffer</span></tt> object.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> dataURL - The data URL to convert</p>
<p><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">Buffer</span></tt> A buffer, containing the decoded data.</p>
<p class="last"><strong>&#64;shorthand</strong>                       <tt class="docutils literal"><span class="pre">P.pdu(dataURL)</span></tt></p>
</dd>
</dl>
</div>
</div>
<span id="document-model_module"></span><div class="section" id="model-module">
<h3>Model Module<a class="headerlink" href="#model-module" title="Permalink to this headline">¶</a></h3>
</div>
<span id="document-session_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Session.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, Controller, Global, ClientSync</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="session-module">
<h3>Session Module<a class="headerlink" href="#session-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-session-module">
<h4>About the Session Module<a class="headerlink" href="#about-the-session-module" title="Permalink to this headline">¶</a></h4>
<p>The Session module allows your application to store persistant session data
for connected clients. This session data will automatically be loaded upon
connection of a returning client.</p>
<p>Session data is stored in <tt class="docutils literal"><span class="pre">.json</span></tt> files in the <tt class="docutils literal"><span class="pre">app/data</span></tt> directory.</p>
<p>For additional information, see the <strong>Sessions</strong> guide.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This module has a few unusual dependencies because it handles a good portion of the client&#8217;s connection process.</p>
</div>
</div>
<div class="section" id="unique-sessions">
<h4>Unique Sessions<a class="headerlink" href="#unique-sessions" title="Permalink to this headline">¶</a></h4>
<p>Automatic precaution is taken to ensure that P sessions are unique between
clients and servers, and different P applications. To make sure that your
app is completely unique, the unique client ID assigned by the P server
uses a customized <tt class="docutils literal"><span class="pre">sessionKey</span></tt> from <tt class="docutils literal"><span class="pre">config/global/app.js</span></tt> to make your
app&#8217;s assigned client ID&#8217;s 100% unique.</p>
<p>Before deploying your app in a production environment, it is suggested that
you change the <tt class="docutils literal"><span class="pre">sessionKey</span></tt> variable in <tt class="docutils literal"><span class="pre">config/global/app.js</span></tt>.</p>
<p>For more information, see the <strong>Production</strong> guide.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.session(key)</dt>
<dd><p class="first">Returns the value for the specified <tt class="docutils literal"><span class="pre">key</span></tt>.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> key - The key you wish to look up.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">id</span></tt> The value corresponding to the specified key.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.session(key, value)</dt>
<dd><p class="first">Sets a session variable.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> key - The key you wish to set</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">id</span></tt> value - Any JSON-serializable value, which will correspond to the specified key.</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
</div>
</div>
<span id="document-string_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/String.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="string-module">
<h3>String Module<a class="headerlink" href="#string-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-strings-module">
<h4>About the Strings Module<a class="headerlink" href="#about-the-strings-module" title="Permalink to this headline">¶</a></h4>
<p>The strings module implements the ability to have pre-defined strings,
which can be localized. This is to allow you to completely outsource
any application UX copy from your controller, for proper MVC design
standards.</p>
<p>Strings are stored as <tt class="docutils literal"><span class="pre">.string</span></tt> files in the <tt class="docutils literal"><span class="pre">app/strings</span></tt> directory.
For more information, see the <strong>Localization</strong> and <strong>Strings</strong> guides.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Strings are pre-loaded when the user connects, to prevent I/O thrashing.</p>
</div>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.string(string)</dt>
<dd><p class="first">Returns the string specified.</p>
<p><strong>&#64;param</strong>                   <tt class="docutils literal"><span class="pre">string</span></tt> The string you wish to use.</p>
<p><strong>&#64;return</strong>                  <tt class="docutils literal"><span class="pre">string</span></tt> The value of the specified string file.</p>
<p class="last"><strong>&#64;shorthand</strong>               <tt class="docutils literal"><span class="pre">P.str(string)</span></tt></p>
</dd>
</dl>
</div>
</div>
<span id="document-view_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/View.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, Element</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="view-module">
<h3>View Module<a class="headerlink" href="#view-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-view-module">
<h4>About the View Module<a class="headerlink" href="#about-the-view-module" title="Permalink to this headline">¶</a></h4>
<p>The View module serves as the primary way to create interfaces, and
implements the View portion of the P MVC architecture.</p>
<p>Views are localized, and stored in the <tt class="docutils literal"><span class="pre">app/views</span></tt> directory.</p>
<p>For more information about views, see the <strong>Views</strong> guide.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.view(name, [options])</dt>
<dd><p class="first">Appends a view to the <tt class="docutils literal"><span class="pre">body</span></tt> of the page.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> name - The view file you wish to load. Note: extension not necessary</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> [options] - An optional key-value pair which specifies data able to be used by the view.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">Element</span></tt> An element which references the container <tt class="docutils literal"><span class="pre">div</span></tt> which contains your view.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.snippet(name, [options])</dt>
<dd><p class="first">Passes the view file through the templating engine, but does not add it to the page.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> name - The view file you wish to parse.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> [options] - An optional key-value pair which will be available to the view.</p>
<p class="last"><strong>&#64;return</strong>                          <tt class="docutils literal"><span class="pre">string</span></tt> A string representation of the view&#8217;s parsed code.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to use the <tt class="docutils literal"><span class="pre">P.snippet</span></tt> function in views, and this is a good practice for outsourcing interface elements to separate files. You can also use <tt class="docutils literal"><span class="pre">P.snippet</span></tt> in a controller, for outsourcing re-usable elements of the interface when they need to be changed or updated.</p>
</div>
</div>
</div>
<span id="document-email_module"></span><div class="sidebar">
<p class="first sidebar-title">Module Information</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Implemented In:</th><td class="field-body"><tt class="docutils literal"><span class="pre">modules/Email.js</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Depends On:</th><td class="field-body">Core, <cite>sendmail</cite></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="email-module">
<h3>Email Module<a class="headerlink" href="#email-module" title="Permalink to this headline">¶</a></h3>
<div class="section" id="about-the-email-module">
<h4>About the Email Module<a class="headerlink" href="#about-the-email-module" title="Permalink to this headline">¶</a></h4>
<p>The Email module makes it easy to send email messages with the P Framework. Currently, the module
is quite rudamentry, and uses the <tt class="docutils literal"><span class="pre">sendmail</span></tt> system to deliver messages. The Email module supports
both HTML and Plain Text emails, and can utilize <strong>Views</strong> as email bodies.</p>
<p>The Email module is a wrapper around the <strong>node-email</strong> node modulea available at <a class="reference external" href="https://github.com/aheckmann/node-email">https://github.com/aheckmann/node-email</a></p>
</div>
<div class="section" id="changing-the-sender">
<h4>Changing the Sender<a class="headerlink" href="#changing-the-sender" title="Permalink to this headline">¶</a></h4>
<p>To change the displayed sender for your app, modify the <tt class="docutils literal"><span class="pre">email.sendFrom</span></tt> variable in <tt class="docutils literal"><span class="pre">config/environment.js</span></tt>.</p>
</div>
<div class="section" id="future-plans">
<h4>Future Plans<a class="headerlink" href="#future-plans" title="Permalink to this headline">¶</a></h4>
<p>Plans for a more advanced email system are underway for version <cite>1.1</cite> of P. These plans include custom SMTP transport,
and enhancements to HTML/Plain Text view emails, as well as integration into a possible Account Permission System.</p>
</div>
<div class="section" id="method-definitions">
<h4>Method Definitions<a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>P.email(to, subject, message, [options], [callback])</dt>
<dd><p class="first">Sends an email with a specified subject and message to the specified sender.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> to - The recipient email address</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> subject - The message subject</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> message - The body of the message</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> [options] - An optional key-value pair which can specify more options. See <strong>node-email</strong> for a complete list of options</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">function</span></tt> [callback] - An optional callback which will be triggered when the email is done sending (along with any errors)</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="docutils">
<dt>P.emailView(to, subject, view_name, [options], [callback])</dt>
<dd><p class="first">Sends an HTML email to the specified sender with the rendered contents of the view.</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> to - The recipient email address</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> subject - The message subject</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">string</span></tt> view_name - The view to use for the message body</p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">object</span></tt> [options] - An optional key-value pair which can <strong>both options for the view, and node-email options</strong></p>
<p><strong>&#64;param</strong>                           <tt class="docutils literal"><span class="pre">function</span></tt> [callback] - An optional callback which will be triggered when the email is done sending (along with any errors)</p>
<p class="last"><strong>&#64;return</strong>                          None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of now, there is no way to send Plain-Text view emails. You could, as a workaround, use the <tt class="docutils literal"><span class="pre">P.email</span></tt> function, and manually render the view with <tt class="docutils literal"><span class="pre">P.snippet</span></tt>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="advanced-topics">
<h2>Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-p_modules"></span><div class="section" id="extending-p-with-modules">
<h3>Extending P With Modules<a class="headerlink" href="#extending-p-with-modules" title="Permalink to this headline">¶</a></h3>
<div class="section" id="what-are-modules">
<h4>What are Modules?<a class="headerlink" href="#what-are-modules" title="Permalink to this headline">¶</a></h4>
<p>Modules are <strong>Node modules</strong>, which usually <tt class="docutils literal"><span class="pre">export</span></tt> a few options, and a master function,
which gets called with the <strong>P Object</strong> as their first parameter. At this time, a Module
can choose to listen for events, do something with the file system, or extend
the P object.</p>
<p>Modules are typically used to enhance the functionality of the framework, and often can be written
to tailor to the unique needs of an application.</p>
</div>
<div class="section" id="module-autoloading">
<h4>Module Autoloading<a class="headerlink" href="#module-autoloading" title="Permalink to this headline">¶</a></h4>
<p>When a user connects to the P server, P loads all of the modules in the <tt class="docutils literal"><span class="pre">modules</span></tt> directory using the
<tt class="docutils literal"><span class="pre">require</span></tt> function. P then checks the module&#8217;s <tt class="docutils literal"><span class="pre">autoload</span></tt> export. If <tt class="docutils literal"><span class="pre">autoload</span></tt> is equal to <tt class="docutils literal"><span class="pre">true</span></tt>,
P will then call the <tt class="docutils literal"><span class="pre">module</span></tt> function of the export, supplying <tt class="docutils literal"><span class="pre">P</span></tt> as the first parameter.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is considered good practice to, by default, <strong>not</strong> autoload custom modules, as that can clutter up
the P object, and cause slow-down.</p>
</div>
</div>
<div class="section" id="custom-modules">
<h4>Custom Modules<a class="headerlink" href="#custom-modules" title="Permalink to this headline">¶</a></h4>
<p>To write a custom module, simply add a new file to the <tt class="docutils literal"><span class="pre">modules</span></tt> directory. Use this boilerplate
to get your module up and running:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">autoload</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Set this to true if you wish for your module to be autoloaded</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">module</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Make your module work here, and modify the P object if necessary</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notice that the boilerplate uses <tt class="docutils literal"><span class="pre">exports.module</span></tt>. This is <strong>not</strong> a typo, and it should <strong>not</strong> be
<tt class="docutils literal"><span class="pre">module.exports</span></tt>. This is an unintentional side-effect of the P Module Naming Convention.</p>
</div>
<div class="section" id="depending-on-modules">
<h5>Depending on Modules<a class="headerlink" href="#depending-on-modules" title="Permalink to this headline">¶</a></h5>
<p>Typically, P loads all modules at the same time, with almost no noticeable delay, usually rendering the
manual specification of Module dependencies unnecessary. The practice is, however, still suggested to
improve stability of your module, and by extension your application.</p>
<p>To depend on a module, you call the <tt class="docutils literal"><span class="pre">P.depends</span></tt> function, which will priority-load the modules you specify,
if they have not already been loaded by the autoloader.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">depend</span><span class="p">([</span><span class="s2">&quot;List&quot;</span><span class="p">,</span> <span class="s2">&quot;Of&quot;</span><span class="p">,</span> <span class="s2">&quot;Dependencies&quot;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="depending-on-your-own-module">
<h5>Depending on Your Own Module<a class="headerlink" href="#depending-on-your-own-module" title="Permalink to this headline">¶</a></h5>
<p>If your module is not auto-loaded, you will need to have your <strong>controllers</strong> depend on it, before you use it
in your application&#8217;s code. Simply use the <tt class="docutils literal"><span class="pre">P.depend</span></tt> function like you would in a module.</p>
</div>
</div>
</div>
<span id="document-p_libraries"></span><div class="section" id="using-and-creating-custom-libraries">
<h3>Using and Creating Custom Libraries<a class="headerlink" href="#using-and-creating-custom-libraries" title="Permalink to this headline">¶</a></h3>
<p><strong>Libraries</strong> are much like <strong>P Modules</strong>, differing only in the aspect that they are never auto-loaded.
Libraries are true <strong>Node modules</strong>, and can usually be taken out of a P application and used in other Node
projects. Loading a library through P allows you to give the library access to the <strong>P Object</strong>.</p>
<div class="section" id="loading-a-library">
<h4>Loading a Library<a class="headerlink" href="#loading-a-library" title="Permalink to this headline">¶</a></h4>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">library</span> <span class="o">=</span> <span class="nx">P</span><span class="p">.</span><span class="nx">lib</span><span class="p">(</span><span class="s2">&quot;path/to/library&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">P.lib</span></tt> will use <tt class="docutils literal"><span class="pre">require</span></tt> to load the library module you specified inside of the <tt class="docutils literal"><span class="pre">lib</span></tt> folder.
It will then call the returned function, passing the P object as a parameter. The initialized module
will be returned by <tt class="docutils literal"><span class="pre">P.lib</span></tt>, making initialization after loading unnecessary.</p>
</div>
</div>
<div class="section" id="creating-a-custom-library">
<h4>Creating a Custom Library<a class="headerlink" href="#creating-a-custom-library" title="Permalink to this headline">¶</a></h4>
<p>As previously mentioned, libraries are just <strong>Node modules</strong>, which export a single function, which can
accept <tt class="docutils literal"><span class="pre">P</span></tt> as its one and only parameter.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">someMethod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Use P here if you want, or do something completely different</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Libraries are stored in the <tt class="docutils literal"><span class="pre">lib</span></tt> folder, usually in a subdirectory corresponding to your name
or company/organization name. For example, P libraries are stored in <tt class="docutils literal"><span class="pre">lib/p</span></tt>, and loaded using
<tt class="docutils literal"><span class="pre">P.lib(&quot;p/&lt;some_library&gt;&quot;)</span></tt>.</p>
</div>
</div>
</div>
<span id="document-multiple_p_apps"></span><div class="section" id="connecting-to-multiple-p-app-servers-at-the-same-time">
<h3>Connecting to Multiple P App Servers at the Same Time<a class="headerlink" href="#connecting-to-multiple-p-app-servers-at-the-same-time" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The content in this article is highly theoretical and experimental. As of now, multiple
P connections is not a supported aspect of P, however it is something we will be looking
into in the near future.</p>
</div>
<div class="section" id="connecting-to-multiple-apps">
<h4>Connecting to Multiple Apps<a class="headerlink" href="#connecting-to-multiple-apps" title="Permalink to this headline">¶</a></h4>
<p>The usual, single connection to the locally running P application server happens in <tt class="docutils literal"><span class="pre">index.html</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">P</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">),</span> <span class="s1">&#39;p&#39;</span><span class="p">);</span>
    <span class="nx">p</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="nx">port</span><span class="o">:</span> <span class="mi">8080</span> <span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The first line creates a new <tt class="docutils literal"><span class="pre">P</span></tt> instance, and assigns it to the global variable <tt class="docutils literal"><span class="pre">p</span></tt>. The first parameter
specifies the <strong>container</strong> of the P application. It is possible to confine a P application to any jQuery element,
and any reference in your app to the <strong>body</strong> will automatically be changed to that container.</p>
<p>The second parameter in the <tt class="docutils literal"><span class="pre">P</span></tt> initializer is the <strong>variable</strong>. When you use <tt class="docutils literal"><span class="pre">P.</span></tt> in any of your views, it
will be replaced with the variable you specify here. This variable should match the global variable you are
assigning the P instance to.</p>
<p>After we have initialized the P object, we connect to the locally running server.</p>
<p>In theory, connecting to multiple apps would look something like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">P</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#leftPane&#39;</span><span class="p">),</span> <span class="s1">&#39;p1&#39;</span><span class="p">);</span>
    <span class="nx">p1</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">&quot;server1.domain.com&quot;</span><span class="p">,</span> <span class="nx">port</span><span class="o">:</span> <span class="mi">8080</span> <span class="p">});</span>

    <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">P</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#rightPane&#39;</span><span class="p">),</span> <span class="s1">&#39;p2&#39;</span><span class="p">);</span>
    <span class="nx">p2</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">&quot;server2.domain.com&quot;</span><span class="p">,</span> <span class="nx">port</span><span class="o">:</span> <span class="mi">8080</span> <span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
<p>It is assumed that in the <tt class="docutils literal"><span class="pre">body</span></tt> of the page, there would be two divs: <tt class="docutils literal"><span class="pre">#leftPane</span></tt> and <tt class="docutils literal"><span class="pre">#rightPane</span></tt>.</p>
</div>
<div class="section" id="communicating-between-apps">
<h4>Communicating Between Apps<a class="headerlink" href="#communicating-between-apps" title="Permalink to this headline">¶</a></h4>
<p>While the code demonstrated above works flawlessly, albeit being a bit strange, communication between P
applications is a gray area. At this time, there is no good way to communicate between two apps running
on the same page. Some theories have been written out below...</p>
<div class="section" id="directly-accessing-the-true-p-variable">
<h5>Directly Accessing the &#8220;True&#8221; P Variable<a class="headerlink" href="#directly-accessing-the-true-p-variable" title="Permalink to this headline">¶</a></h5>
<p>In our example above, we use <tt class="docutils literal"><span class="pre">p1</span></tt> to correspond to the first application, and <tt class="docutils literal"><span class="pre">p2</span></tt> to correspond to
the second application. If the first application were to reference <tt class="docutils literal"><span class="pre">p2</span></tt> in it&#8217;s views, and trigger
controller actions using <tt class="docutils literal"><span class="pre">p2.controller</span></tt>, the apps would be able to at the very least trigger controller
actions, which could provide a decent level of communication between them.</p>
<p>Unfortunately, hard-coding variable is not a good practice, since the variables could change. To remedy this,
you could have two expected <tt class="docutils literal"><span class="pre">div</span></tt> elements on the page, which contain the appropriate variables, so that
the applications can access and use them.</p>
</div>
<div class="section" id="communicating-via-socket-io">
<h5>Communicating via Socket.IO<a class="headerlink" href="#communicating-via-socket-io" title="Permalink to this headline">¶</a></h5>
<p>Recently, I discovered that there is a Node socket.io <strong>client</strong>, which allows you to communicate with
socket.io <strong>servers</strong> in Node. We could theoretically write a communication layer, which would emulate
a client connection to another app, and trigger controller methods on it through some sort of bridge.</p>
</div>
</div>
<div class="section" id="why-multiple-connections">
<h4>Why Multiple Connections?<a class="headerlink" href="#why-multiple-connections" title="Permalink to this headline">¶</a></h4>
<p>It is imagined that in future iterations of P, developers will be able to outsource entire portions of their
application as advanced APIs.</p>
<p>For instance, a photo sharing P application could allow some other P application
to connect to their app, and request photos. Instead of the photo sharing application just sending back JSON
containing photo information, the app could actually open it&#8217;s own interface on the user&#8217;s screen, and allow
the user to choose photos in a familiar environment. Those photos could then directly be sent to the external
application for use.</p>
<p>Having advanced &#8220;APIs&#8221; such as this would be a lot like Windows 8&#8217;s new <strong>sharing</strong> feature, which allows other
apps to provide data in a familiar experience to the user. We believe it would truly revolutionize the way apps
communicate with each other.</p>
</div>
</div>
</div>
</div>
<div class="section" id="about-these-docs">
<h2>About These Docs<a class="headerlink" href="#about-these-docs" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-contribution"></span><div class="section" id="contributing-to-p-docs">
<h3>Contributing to P Docs<a class="headerlink" href="#contributing-to-p-docs" title="Permalink to this headline">¶</a></h3>
<p>The P documentation is written and compiled using <strong>Sphinx</strong>. The source code for the
docs are stored in the P framework repository on <strong>BitBucket</strong>.</p>
<p>To contribute to the documentation, simply check out P from <strong>BitBucket</strong>, make your changes
to the documentation in a branch, and submit a pull request. <strong>We really appreciate it!</strong>.</p>
<div class="section" id="useful-links">
<h4>Useful Links<a class="headerlink" href="#useful-links" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="http://bitbucket.org/hydrais/p-framework">BitBucket</a></li>
<li><a class="reference external" href="http://p.jessedunlap.me/">p.jessedunlap.me</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">P 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jesse Dunlap.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  </body>
</html>