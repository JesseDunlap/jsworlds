
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extending P With Modules &mdash; P 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="P 1.0.0 documentation" href="index.html" />
    <link rel="next" title="Using and Creating Custom Libraries" href="p_libraries.html" />
    <link rel="prev" title="Email Module" href="email_module.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="p_libraries.html" title="Using and Creating Custom Libraries"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="email_module.html" title="Email Module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">P 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Extending P With Modules</a><ul>
<li><a class="reference internal" href="#what-are-modules">What are Modules?</a></li>
<li><a class="reference internal" href="#module-autoloading">Module Autoloading</a></li>
<li><a class="reference internal" href="#custom-modules">Custom Modules</a><ul>
<li><a class="reference internal" href="#depending-on-modules">Depending on Modules</a></li>
<li><a class="reference internal" href="#depending-on-your-own-module">Depending on Your Own Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="email_module.html"
                        title="previous chapter">Email Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="p_libraries.html"
                        title="next chapter">Using and Creating Custom Libraries</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/p_modules.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="extending-p-with-modules">
<h1>Extending P With Modules<a class="headerlink" href="#extending-p-with-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-are-modules">
<h2>What are Modules?<a class="headerlink" href="#what-are-modules" title="Permalink to this headline">¶</a></h2>
<p>Modules are <strong>Node modules</strong>, which usually <tt class="docutils literal"><span class="pre">export</span></tt> a few options, and a master function,
which gets called with the <strong>P Object</strong> as their first parameter. At this time, a Module
can choose to listen for events, do something with the file system, or extend
the P object.</p>
<p>Modules are typically used to enhance the functionality of the framework, and often can be written
to tailor to the unique needs of an application.</p>
</div>
<div class="section" id="module-autoloading">
<h2>Module Autoloading<a class="headerlink" href="#module-autoloading" title="Permalink to this headline">¶</a></h2>
<p>When a user connects to the P server, P loads all of the modules in the <tt class="docutils literal"><span class="pre">modules</span></tt> directory using the
<tt class="docutils literal"><span class="pre">require</span></tt> function. P then checks the module&#8217;s <tt class="docutils literal"><span class="pre">autoload</span></tt> export. If <tt class="docutils literal"><span class="pre">autoload</span></tt> is equal to <tt class="docutils literal"><span class="pre">true</span></tt>,
P will then call the <tt class="docutils literal"><span class="pre">module</span></tt> function of the export, supplying <tt class="docutils literal"><span class="pre">P</span></tt> as the first parameter.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is considered good practice to, by default, <strong>not</strong> autoload custom modules, as that can clutter up
the P object, and cause slow-down.</p>
</div>
</div>
<div class="section" id="custom-modules">
<h2>Custom Modules<a class="headerlink" href="#custom-modules" title="Permalink to this headline">¶</a></h2>
<p>To write a custom module, simply add a new file to the <tt class="docutils literal"><span class="pre">modules</span></tt> directory. Use this boilerplate
to get your module up and running:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">autoload</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Set this to true if you wish for your module to be autoloaded</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">module</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Make your module work here, and modify the P object if necessary</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Notice that the boilerplate uses <tt class="docutils literal"><span class="pre">exports.module</span></tt>. This is <strong>not</strong> a typo, and it should <strong>not</strong> be
<tt class="docutils literal"><span class="pre">module.exports</span></tt>. This is an unintentional side-effect of the P Module Naming Convention.</p>
</div>
<div class="section" id="depending-on-modules">
<h3>Depending on Modules<a class="headerlink" href="#depending-on-modules" title="Permalink to this headline">¶</a></h3>
<p>Typically, P loads all modules at the same time, with almost no noticeable delay, usually rendering the
manual specification of Module dependencies unnecessary. The practice is, however, still suggested to
improve stability of your module, and by extension your application.</p>
<p>To depend on a module, you call the <tt class="docutils literal"><span class="pre">P.depends</span></tt> function, which will priority-load the modules you specify,
if they have not already been loaded by the autoloader.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">P</span><span class="p">.</span><span class="nx">depend</span><span class="p">([</span><span class="s2">&quot;List&quot;</span><span class="p">,</span> <span class="s2">&quot;Of&quot;</span><span class="p">,</span> <span class="s2">&quot;Dependencies&quot;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="depending-on-your-own-module">
<h3>Depending on Your Own Module<a class="headerlink" href="#depending-on-your-own-module" title="Permalink to this headline">¶</a></h3>
<p>If your module is not auto-loaded, you will need to have your <strong>controllers</strong> depend on it, before you use it
in your application&#8217;s code. Simply use the <tt class="docutils literal"><span class="pre">P.depend</span></tt> function like you would in a module.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="p_libraries.html" title="Using and Creating Custom Libraries"
             >next</a> |</li>
        <li class="right" >
          <a href="email_module.html" title="Email Module"
             >previous</a> |</li>
        <li><a href="index.html">P 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jesse Dunlap.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  </body>
</html>